---
title: "Mini-Project 3"
author: "Eleanor Ewing, G.E. Ranieri, Farah Samawi"
date: "11/15/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(mdsr)
library(RMySQL)
```

```{r}
db <- dbConnect_scidb(dbname = "imdb")
```

```{r}
query <- "SELECT movie_id, COUNT(info), production_year, kind_id 
            FROM imdb.title
            LEFT JOIN movie_info ON title.id = movie_info.movie_id
            WHERE info_type_id = 3 AND kind_id = 1
            GROUP BY movie_id;"

db %>%
  dbGetQuery(query)
```

```{r}
# Make scatter plot
gplot <- ggplot(query, aes(x = production_year, y = gross, size = genre_num)) +
  geom_jitter(alpha = 0.5)

gplot
```
